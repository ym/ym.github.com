<!doctype html>
<html class="theme-next  theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.3"/>




  <meta name="keywords" content="Hexo,next" />



  <link rel="alternate" href="/atom.xml" title="Aveline's Blog" type="application/atom+xml" />



  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.3" />



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    analytics: {
      google: 'UA-20336289-2'
    },
    sidebar: 'post'
  };
</script>




  <title> 关于聚合数据窃取用户通讯录的完整分析 // Aveline's Blog </title>
</head>

<body>
  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Aveline's Blog</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<div class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/">
            <i class="menu-item-icon icon-home"></i> <br />
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            <i class="menu-item-icon icon-archives"></i> <br />
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            <i class="menu-item-icon icon-tags"></i> <br />
            標籤
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
<form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'h7fLV84amzbZPuPcVWP6','2.0.0');
</script>

<div class="site-search-toggle"></div>
    </div>
  
</div>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              关于聚合数据窃取用户通讯录的完整分析
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於 2014-11-04
        </span>

        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/analysis-of-juhe-data-who-steal-user-contacts-book/#comments" >
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="analysis-of-juhe-data-who-steal-user-contacts-book/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        <h2 id="起因">起因</h2><p>之前在测试聚合数据的 <a href="https://mega.co.nz/#!pE9iWLxD!bdAA9EA9R6finccP701kQPBjCdkqMtKT2-agKeMb0LA" target="_blank" rel="external">iOS SDK Demo</a> 的时候，发现会请求通讯录权限 … 当时刚睡醒没多久，拿了自己在用的手机，还点了 Allow。</p>
<p>然后我就在 Charles 里发现了一个很大的请求，很好奇，便对 SDK 进行了逆向工程，拿到了解密方法，发现我的整个通讯录都被上传了。</p>
<p>于是我在 V2EX 发了一个帖子 <a href="http://www.v2ex.com/t/142645#reply93" target="_blank" rel="external">请不要使用聚合数据的 SDK</a>，后来被聚合的工作人员看到，他们是<a href="http://www.v2ex.com/t/142966#reply93" target="_blank" rel="external">这样</a>回复的：</p>
<blockquote><br>聚合数据一直致力于为开发者提供更为优质的数据服务，并基于此出发点，推出了聚合数据SDK，该SDK整合了目前聚合数据所提供的所有数据接口，此次aveline反馈的聚合数据SDK读取通讯录问题，实质上是聚合数据<strong>为了方便用户使用由聚合数据提供的短信API服务</strong>。此举对于非短信API服务使用者可能会造成一定不适，考虑到这一点，我们立即对于IOS版与Android版SDK进行了更新，不再要求读取通讯录权限，并对于此前为开发者用户考虑不周的行为表示诚挚歉意，并保证不再进行此类有侵犯用户隐私嫌疑的行为。<br><br><br><br>聚合数据是一个严格恪守行业底线的平台，聚合数据在进行数据分析的过程中极为注重隐私的保护，数据都进行了严格的加密处理，所搜集的数据仅用于改进网站服务本身，并未用于任何非法用途，对于聚合数据注册账号及密码，也进行了严格的加密措施。<br></blockquote>

<p>在 CEO 的微博上是<a href="http://weibo.com/1863475634/Bu3X7qwua" target="_blank" rel="external">这么</a>回复的：</p>
<blockquote><br>昨天晚上收到这个投诉，问了技术人员说是 主要考量是<strong>方便短信api用户</strong> 目前sdk 已连夜更新 彻底删除通讯录读取功能<br></blockquote>

<p>但是实际上并非如此。</p>
<p>来，我们一个一个 SDK 看过去。</p>
<h2 id="分析">分析</h2><p>因为部分版本已经被更新过，新版的确是 <strong>没有</strong> 通讯录读取功能，我们这里以老版本来分析。</p>
<p>有些不了解的读者可能会觉得更新了 SDK 就好了呀，但是其实不是这样子的：SDK 是嵌入在 App 里的，要 App 的开发者更新了，提交到 App Store 之后，终端用户更新了才不会继续被窃取通讯录，但是众所周知苹果审核 App 速度并不快，所以还会有很多使用了这个 SDK 并且用户允许访问通讯录的 App 被利用，继续向聚合数据的服务器上传通讯录。</p>
<p>另外，聚合数据服务器上用于接收上传的通讯录的接口并没有被删掉，而是仍然能够正常处理数据的。你就算为了骗我伪造个 404 也好呀～连伪装都不伪装一下，真是不要脸（不过也很有可能是智商低XD</p>
<h3 id="聚合数据_SDK_(iOS_SDK_v1-0-2)">聚合数据 SDK (iOS SDK v1.0.2)</h3><p>使用 <a href="http://www.unix.com/man-page/osx/1/strings/" target="_blank" rel="external">strings</a> 很清楚的可以看到：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># strings JuheApis | grep -b1 "openid="</span></span><br><span class="line"><span class="number">13015</span>-%@[]</span><br><span class="line"><span class="number">13020</span>:openid=%@imei=%@&amp;lat=%@&amp;lon=%@&amp;os=%@&amp;<span class="built_in">type</span>=%@&amp;model=%@&amp;sim=%@&amp;network=%@&amp;idfa=%@&amp;pname=%@</span><br><span class="line"><span class="number">13109</span>-z@J:<span class="number">70</span>=o*O%~!<span class="number">8</span>-i</span><br></pre></td></tr></table></figure></p>
<p><code>z@J:70=o*O%~!8-i</code> 就是他们加密请求用的密钥啦。</p>
<p>所以，说好的 <code>数据都进行了严格的加密处理</code> 其实就是我们数据加密了但是我们把密钥明文放在里面了哟要看自己拿哟么么哒～</p>
<p>值得一提的是，代码里把用于 AES 的函数命名为了 <code>DESEncrypt</code>，而早期版本中则是直接有一个 <code>libAes.so</code> 的文件，不得不问一下：是不是为了窃取用户数据然后想改下函数名迷惑下反编译的人呢？可是 … 请问你知道汇编嘛？</p>
<p>因为看汇编代码有点头疼，以下给出的代码均为反编译后生成的 C 代码，并非我拿到了他们的源代码哦。</p>
<p>初始化部分：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JHHTTPClient + (void)initJHHTTPClient:(int) OpenId:(id) Path:(id) URLRoot:(id) Method:(id) Key:(id) Success:(id) Failure:(id)</span></span><br><span class="line"><span class="keyword">void</span> __cdecl +[JHHTTPClient initJHHTTPClient:OpenId:Path:URLRoot:Method:Key:Success:Failure:](<span class="keyword">struct</span> JHHTTPClient *self, SEL a2, <span class="keyword">int</span> a3, id a4, id a5, id a6, id a7, id a8, id a9, id a10)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">int</span> v10; <span class="comment">// esi@1</span></span><br><span class="line">  <span class="keyword">void</span> *v11; <span class="comment">// eax@1</span></span><br><span class="line">  <span class="keyword">void</span> *v12; <span class="comment">// eax@1</span></span><br><span class="line">  <span class="keyword">int</span> v13; <span class="comment">// edi@1</span></span><br><span class="line">  <span class="keyword">void</span> *v14; <span class="comment">// eax@1</span></span><br><span class="line">  <span class="keyword">int</span> v15; <span class="comment">// esi@1</span></span><br><span class="line">  <span class="keyword">void</span> *v16; <span class="comment">// eax@1</span></span><br><span class="line">  <span class="keyword">int</span> v17; <span class="comment">// ebx@1</span></span><br><span class="line">  <span class="keyword">void</span> *v18; <span class="comment">// eax@4</span></span><br><span class="line">  <span class="keyword">void</span> *v19; <span class="comment">// edi@4</span></span><br><span class="line">  <span class="keyword">void</span> *v20; <span class="comment">// eax@6</span></span><br><span class="line">  <span class="keyword">int</span> v21; <span class="comment">// ebx@6</span></span><br><span class="line">  <span class="keyword">void</span> *v22; <span class="comment">// eax@8</span></span><br><span class="line">  <span class="keyword">void</span> *v23; <span class="comment">// eax@10</span></span><br><span class="line">  <span class="keyword">int</span> v24; <span class="comment">// ebx@10</span></span><br><span class="line">  <span class="keyword">void</span> *v25; <span class="comment">// eax@11</span></span><br><span class="line">  <span class="keyword">void</span> *v26; <span class="comment">// ST30_4@11</span></span><br><span class="line">  <span class="keyword">int</span> v27; <span class="comment">// edi@11</span></span><br><span class="line">  <span class="keyword">void</span> *v28; <span class="comment">// eax@13</span></span><br><span class="line">  <span class="keyword">void</span> *v29; <span class="comment">// ST30_4@13</span></span><br><span class="line">  <span class="keyword">int</span> v30; <span class="comment">// edi@13</span></span><br><span class="line">  <span class="keyword">int</span> v31; <span class="comment">// [sp+30h] [bp-38h]@1</span></span><br><span class="line">  <span class="keyword">void</span> *v32; <span class="comment">// [sp+38h] [bp-30h]@1</span></span><br><span class="line">  <span class="keyword">int</span> v33; <span class="comment">// [sp+3Ch] [bp-2Ch]@1</span></span><br><span class="line">  <span class="keyword">int</span> v34; <span class="comment">// [sp+40h] [bp-28h]@1</span></span><br><span class="line">  <span class="keyword">int</span> v35; <span class="comment">// [sp+44h] [bp-24h]@1</span></span><br><span class="line">  <span class="keyword">int</span> v36; <span class="comment">// [sp+48h] [bp-20h]@1</span></span><br><span class="line">  <span class="keyword">int</span> v37; <span class="comment">// [sp+4Ch] [bp-1Ch]@1</span></span><br><span class="line">  <span class="keyword">int</span> v38; <span class="comment">// [sp+50h] [bp-18h]@1</span></span><br><span class="line">  <span class="keyword">void</span> *v39; <span class="comment">// [sp+54h] [bp-14h]@1</span></span><br><span class="line">  <span class="keyword">int</span> v40; <span class="comment">// [sp+58h] [bp-10h]@2</span></span><br><span class="line"></span><br><span class="line">  v10 = objc_retain(a4);</span><br><span class="line">  v33 = objc_retain(a5);</span><br><span class="line">  v38 = objc_retain(a6);</span><br><span class="line">  v37 = objc_retain(a7);</span><br><span class="line">  v36 = objc_retain(a8);</span><br><span class="line">  v35 = objc_retain(a9);</span><br><span class="line">  v34 = objc_retain(a10);</span><br><span class="line">  v11 = objc_msgSend(classRef_JuHeInfo, selRef_sharedInfo);</span><br><span class="line">  v39 = (<span class="keyword">void</span> *)objc_retainAutoreleasedReturnValue(v11);</span><br><span class="line">  v31 = v10;</span><br><span class="line">  objc_msgSend(v39, selRef_initInfo_, v10);</span><br><span class="line">  v12 = objc_msgSend(v39, selRef_getDicRawInfo);</span><br><span class="line">  v13 = objc_retainAutoreleasedReturnValue(v12);</span><br><span class="line">  v14 = objc_msgSend(classRef_NSMutableArray, selRef_alloc);</span><br><span class="line">  v32 = objc_msgSend(v14, selRef_init);</span><br><span class="line">  v15 = v33;</span><br><span class="line">  v16 = objc_msgSend(v39, selRef_getDicRawInfo);</span><br><span class="line">  v17 = objc_retainAutoreleasedReturnValue(v16);</span><br><span class="line">  objc_release(v13);</span><br><span class="line">  <span class="keyword">if</span> ( a3 != <span class="number">1</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    v40 = v17;</span><br><span class="line">    <span class="keyword">if</span> ( (a3 &amp; <span class="number">0xFFFFFFFE</span>) == <span class="number">2</span> )</span><br><span class="line">    &#123;</span><br><span class="line">      v18 = objc_msgSend(classRef_NSMutableDictionary, selRef_alloc);</span><br><span class="line">      v19 = objc_msgSend(v18, selRef_init);</span><br><span class="line">      objc_msgSend(v19, selRef_setDictionary_, v17);</span><br><span class="line">      <span class="keyword">if</span> ( a3 == <span class="number">3</span> )</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">if</span> ( ABAddressBookGetAuthorizationStatus() == <span class="number">3</span> )</span><br><span class="line">        &#123;</span><br><span class="line">          objc_msgSend(v39, selRef_fetchAddressBookInfo_, v32);</span><br><span class="line">          v20 = objc_msgSend(v39, selRef_getSMSAddressBookJsonString_, v32);</span><br><span class="line">          v21 = objc_retainAutoreleasedReturnValue(v20);</span><br><span class="line">          objc_msgSend(v19, selRef_setObject_forKey_, v21, CFSTR(<span class="string">"up"</span>));</span><br><span class="line">          objc_release(v21);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        objc_msgSend(v39, selRef_fetchAddressBookInfo_, v32);</span><br><span class="line">        v25 = objc_msgSend(v39, selRef_getSMSAddressBookJsonString_, v32);</span><br><span class="line">        v26 = v19;</span><br><span class="line">        v27 = objc_retainAutoreleasedReturnValue(v25);</span><br><span class="line">        objc_msgSend(v26, selRef_setObject_forKey_, v27, CFSTR(<span class="string">"up"</span>));</span><br><span class="line">        objc_release(v27);</span><br><span class="line">        v19 = v26;</span><br><span class="line">      &#125;</span><br><span class="line">      objc_msgSend(</span><br><span class="line">        classRef_JHHTTPClient,</span><br><span class="line">        selRef_sendEncryptData_URLRoot_Data_Method_Key_Success_Failure_,</span><br><span class="line">        v33,</span><br><span class="line">        v38,</span><br><span class="line">        v19,</span><br><span class="line">        v37,</span><br><span class="line">        v36,</span><br><span class="line">        v35,</span><br><span class="line">        v34);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> ( (a3 &amp; <span class="number">0xFFFFFFFE</span>) != <span class="number">4</span> )</span><br><span class="line">        <span class="keyword">goto</span> LABEL_16;</span><br><span class="line">      v22 = objc_msgSend(classRef_NSMutableDictionary, selRef_alloc);</span><br><span class="line">      v19 = objc_msgSend(v22, selRef_init);</span><br><span class="line">      objc_msgSend(v19, selRef_setDictionary_, v17);</span><br><span class="line">      <span class="keyword">if</span> ( a3 == <span class="number">5</span> )</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">if</span> ( ABAddressBookGetAuthorizationStatus() == <span class="number">3</span> )</span><br><span class="line">        &#123;</span><br><span class="line">          objc_msgSend(v39, selRef_fetchAddressBookInfo_, v32);</span><br><span class="line">          v23 = objc_msgSend(v39, selRef_getSMSAddressBook_, v32);</span><br><span class="line">          v24 = objc_retainAutoreleasedReturnValue(v23);</span><br><span class="line">          objc_msgSend(v19, selRef_setObject_forKey_, v24, CFSTR(<span class="string">"list"</span>));</span><br><span class="line">          objc_release(v24);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        objc_msgSend(v39, selRef_fetchAddressBookInfo_, v32);</span><br><span class="line">        v28 = objc_msgSend(v39, selRef_getSMSAddressBook_, v32);</span><br><span class="line">        v29 = v19;</span><br><span class="line">        v30 = objc_retainAutoreleasedReturnValue(v28);</span><br><span class="line">        objc_msgSend(v29, selRef_setObject_forKey_, v30, CFSTR(<span class="string">"list"</span>));</span><br><span class="line">        objc_release(v30);</span><br><span class="line">        v19 = v29;</span><br><span class="line">      &#125;</span><br><span class="line">      objc_msgSend(</span><br><span class="line">        classRef_JHHTTPClient,</span><br><span class="line">        selRef_sendEncryptJsonData_URLRoot_Data_Method_Key_Success_Failure_,</span><br><span class="line">        v33,</span><br><span class="line">        v38,</span><br><span class="line">        v19,</span><br><span class="line">        v37,</span><br><span class="line">        v36,</span><br><span class="line">        v35,</span><br><span class="line">        v34);</span><br><span class="line">    &#125;</span><br><span class="line">    objc_release(v19);</span><br><span class="line">    v15 = v33;</span><br><span class="line">    <span class="keyword">goto</span> LABEL_16;</span><br><span class="line">  &#125;</span><br><span class="line">  v40 = v17;</span><br><span class="line">  objc_msgSend(</span><br><span class="line">    classRef_JHHTTPClient,</span><br><span class="line">    selRef_sendEncryptData_URLRoot_Data_Method_Key_Success_Failure_,</span><br><span class="line">    v33,</span><br><span class="line">    v38,</span><br><span class="line">    v17,</span><br><span class="line">    v37,</span><br><span class="line">    v36,</span><br><span class="line">    v35,</span><br><span class="line">    v34);</span><br><span class="line">LABEL_16:</span><br><span class="line">  objc_release(v32);</span><br><span class="line">  objc_release(v40);</span><br><span class="line">  objc_release(v39);</span><br><span class="line">  objc_release(v34);</span><br><span class="line">  objc_release(v35);</span><br><span class="line">  objc_release(v36);</span><br><span class="line">  objc_release(v37);</span><br><span class="line">  objc_release(v38);</span><br><span class="line">  objc_release(v15);</span><br><span class="line">  objc_release(v31);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>里面的<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">objc_msgSend(v39, selRef_fetchAddressBookInfo_, v32);</span><br><span class="line">v23 = objc_msgSend(v39, selRef_getSMSAddressBook_, v32);</span><br></pre></td></tr></table></figure></p>
<p>就是用来获取通讯录的代码。</p>
<p>以下是执行 API 调用的部分：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JuheAPI - (void)executeWorkWithAPI:(id) parameters:(id) success:(id) failure:(id)</span></span><br><span class="line"><span class="keyword">void</span> __cdecl -[JuheAPI executeWorkWithAPI:parameters:success:failure:](<span class="keyword">struct</span> JuheAPI *self, SEL a2, id a3, id a4, id a5, id a6)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">void</span> *v6; <span class="comment">// eax@1</span></span><br><span class="line">  <span class="keyword">void</span> *v7; <span class="comment">// eax@1</span></span><br><span class="line">  <span class="keyword">void</span> *v8; <span class="comment">// esi@1</span></span><br><span class="line">  <span class="keyword">void</span> *v9; <span class="comment">// eax@1</span></span><br><span class="line">  <span class="keyword">void</span> *v10; <span class="comment">// eax@1</span></span><br><span class="line">  <span class="keyword">void</span> *v11; <span class="comment">// eax@1</span></span><br><span class="line">  <span class="keyword">void</span> *v12; <span class="comment">// edi@1</span></span><br><span class="line">  <span class="keyword">void</span> *v13; <span class="comment">// eax@1</span></span><br><span class="line">  <span class="keyword">void</span> *v14; <span class="comment">// esi@1</span></span><br><span class="line">  <span class="keyword">void</span> *v15; <span class="comment">// eax@4</span></span><br><span class="line">  <span class="keyword">int</span> v16; <span class="comment">// esi@4</span></span><br><span class="line">  <span class="keyword">void</span> *v17; <span class="comment">// eax@4</span></span><br><span class="line">  <span class="keyword">int</span> v18; <span class="comment">// eax@4</span></span><br><span class="line">  <span class="keyword">int</span> v19; <span class="comment">// edi@4</span></span><br><span class="line">  <span class="keyword">int</span> v20; <span class="comment">// ST3C_4@5</span></span><br><span class="line">  <span class="keyword">void</span> *v21; <span class="comment">// [sp+40h] [bp-58h]@4</span></span><br><span class="line">  <span class="keyword">int</span> v22; <span class="comment">// [sp+44h] [bp-54h]@1</span></span><br><span class="line">  <span class="keyword">int</span> v23; <span class="comment">// [sp+48h] [bp-50h]@1</span></span><br><span class="line">  <span class="keyword">int</span> v24; <span class="comment">// [sp+4Ch] [bp-4Ch]@1</span></span><br><span class="line">  <span class="keyword">int</span> v25; <span class="comment">// [sp+50h] [bp-48h]@1</span></span><br><span class="line">  <span class="keyword">int</span> v26; <span class="comment">// [sp+54h] [bp-44h]@1</span></span><br><span class="line">  <span class="keyword">void</span> **v27; <span class="comment">// [sp+58h] [bp-40h]@5</span></span><br><span class="line">  <span class="keyword">int</span> v28; <span class="comment">// [sp+5Ch] [bp-3Ch]@5</span></span><br><span class="line">  <span class="keyword">int</span> v29; <span class="comment">// [sp+60h] [bp-38h]@5</span></span><br><span class="line">  <span class="keyword">int</span> (__cdecl *v30)(<span class="keyword">int</span>, <span class="keyword">int</span>); <span class="comment">// [sp+64h] [bp-34h]@5</span></span><br><span class="line">  <span class="keyword">int</span> v31; <span class="comment">// [sp+68h] [bp-30h]@5</span></span><br><span class="line">  <span class="keyword">int</span> v32; <span class="comment">// [sp+6Ch] [bp-2Ch]@5</span></span><br><span class="line">  <span class="keyword">void</span> **v33; <span class="comment">// [sp+70h] [bp-28h]@5</span></span><br><span class="line">  <span class="keyword">int</span> v34; <span class="comment">// [sp+74h] [bp-24h]@5</span></span><br><span class="line">  <span class="keyword">int</span> v35; <span class="comment">// [sp+78h] [bp-20h]@5</span></span><br><span class="line">  <span class="keyword">int</span> (__cdecl *v36)(<span class="keyword">int</span>, <span class="keyword">int</span>); <span class="comment">// [sp+7Ch] [bp-1Ch]@5</span></span><br><span class="line">  <span class="keyword">int</span> v37; <span class="comment">// [sp+80h] [bp-18h]@5</span></span><br><span class="line">  <span class="keyword">int</span> v38; <span class="comment">// [sp+84h] [bp-14h]@5</span></span><br><span class="line"></span><br><span class="line">  v26 = objc_retain(a3);</span><br><span class="line">  v25 = objc_retain(a4);</span><br><span class="line">  v22 = objc_retain(a5);</span><br><span class="line">  v24 = objc_retain(a6);</span><br><span class="line">  v6 = objc_msgSend(classRef_JHOpenidSupplier, selRef_shareSupplier);</span><br><span class="line">  v7 = (<span class="keyword">void</span> *)objc_retainAutoreleasedReturnValue(v6);</span><br><span class="line">  v8 = v7;</span><br><span class="line">  v9 = objc_msgSend(v7, selRef_getLatestJuheAPIOpenId);</span><br><span class="line">  v23 = objc_retainAutoreleasedReturnValue(v9);</span><br><span class="line">  objc_release(v8);</span><br><span class="line">  v10 = objc_msgSend(classRef_NSUserDefaults, selRef_standardUserDefaults);</span><br><span class="line">  v11 = (<span class="keyword">void</span> *)objc_retainAutoreleasedReturnValue(v10);</span><br><span class="line">  v12 = v11;</span><br><span class="line">  v13 = objc_msgSend(v11, selRef_objectForKey_, CFSTR(<span class="string">"ujc"</span>));</span><br><span class="line">  v14 = (<span class="keyword">void</span> *)objc_retainAutoreleasedReturnValue(v13);</span><br><span class="line">  objc_release(v12);</span><br><span class="line">  <span class="keyword">if</span> ( !v14 || !(<span class="keyword">unsigned</span> __int8)objc_msgSend(v14, selRef_isEqualToString_, CFSTR(<span class="string">"1"</span>)) )</span><br><span class="line">    objc_msgSend(</span><br><span class="line">      classRef_JHHTTPClient,</span><br><span class="line">      selRef_initJHHTTPClient_OpenId_Path_URLRoot_Method_Key_Success_Failure_,</span><br><span class="line">      <span class="number">4</span>,</span><br><span class="line">      v23,</span><br><span class="line">      CFSTR(<span class="string">"initialize"</span>),</span><br><span class="line">      CFSTR(<span class="string">"http://sdk.juhe.cn"</span>),</span><br><span class="line">      CFSTR(<span class="string">"POST"</span>),</span><br><span class="line">      CFSTR(<span class="string">"z@J:70=o*O%~!8-i"</span>),</span><br><span class="line">      &amp;__block_literal_global67,</span><br><span class="line">      &amp;__block_literal_global69);</span><br><span class="line">  v21 = v14;</span><br><span class="line">  v15 = objc_msgSend(self, selRef_calibrateParameters_api_, v25, v26);</span><br><span class="line">  v16 = objc_retainAutoreleasedReturnValue(v15);</span><br><span class="line">  v17 = objc_msgSend(classRef_JHHTTPClient, selRef_sharedJuHeHTTPClient);</span><br><span class="line">  v18 = objc_retainAutoreleasedReturnValue(v17);</span><br><span class="line">  v19 = v22;</span><br><span class="line">  <span class="keyword">if</span> ( v18 )</span><br><span class="line">  &#123;</span><br><span class="line">    v33 = _NSConcreteStackBlock;</span><br><span class="line">    v34 = -<span class="number">1040187392</span>;</span><br><span class="line">    v35 = <span class="number">0</span>;</span><br><span class="line">    v20 = v18;</span><br><span class="line">    v36 = __57__JuheAPI_executeWorkWithAPI_parameters_success_failure___block_invoke_3;</span><br><span class="line">    v37 = (<span class="keyword">int</span>)&amp;<span class="keyword">__block_descriptor_t</span>mp76;</span><br><span class="line">    v38 = objc_retain(v22);</span><br><span class="line">    v27 = _NSConcreteStackBlock;</span><br><span class="line">    v19 = v22;</span><br><span class="line">    v28 = -<span class="number">1040187392</span>;</span><br><span class="line">    v29 = <span class="number">0</span>;</span><br><span class="line">    v30 = __57__JuheAPI_executeWorkWithAPI_parameters_success_failure___block_invoke77;</span><br><span class="line">    v31 = (<span class="keyword">int</span>)&amp;<span class="keyword">__block_descriptor_t</span>mp80;</span><br><span class="line">    v32 = objc_retain(v24);</span><br><span class="line">    objc_msgSend(</span><br><span class="line">      classRef_JHHTTPClient,</span><br><span class="line">      selRef_sendEncryptData_URLRoot_Data_Method_Key_Success_Failure_,</span><br><span class="line">      CFSTR(<span class="string">"/api"</span>),</span><br><span class="line">      CFSTR(<span class="string">"http://sdk.juhe.cn"</span>),</span><br><span class="line">      v16,</span><br><span class="line">      CFSTR(<span class="string">"GET"</span>),</span><br><span class="line">      CFSTR(<span class="string">"z@J:70=o*O%~!8-i"</span>),</span><br><span class="line">      &amp;v33,</span><br><span class="line">      &amp;v27);</span><br><span class="line">    objc_release(v32);</span><br><span class="line">    objc_release(v38);</span><br><span class="line">    v18 = v20;</span><br><span class="line">  &#125;</span><br><span class="line">  objc_release(v18);</span><br><span class="line">  objc_release(v16);</span><br><span class="line">  objc_release(v21);</span><br><span class="line">  objc_release(v23);</span><br><span class="line">  objc_release(v24);</span><br><span class="line">  objc_release(v19);</span><br><span class="line">  objc_release(v25);</span><br><span class="line">  objc_release(v26);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以清楚的看到，这里并没有判断是否是调用的短信 API，而判断的是有没有拿到通讯录，有的话，上传。</p>
<p>另外，就算是像他们所说的 <code>方便短信api用户</code>：嗯我们把他曲解成和开发者共享用户隐私好啦，聚合数据的后台里也没有能看到的地方呀那你到底方便的是谁呐～</p>
<p>呐，拿到加密方式和密钥，解密也就很容易啦：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env php</span></span><br><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">decrypt</span><span class="params">(<span class="variable">$data</span>)</span> </span>&#123;</span><br><span class="line">  <span class="variable">$method</span> = <span class="string">'AES-128-ECB'</span>;</span><br><span class="line">  <span class="variable">$password</span> = <span class="string">'z@J:70=o*O%~!8-i'</span>;</span><br><span class="line">  <span class="variable">$data</span> = hex2bin(<span class="variable">$data</span>);</span><br><span class="line">  <span class="keyword">return</span> mcrypt_decrypt(MCRYPT_RIJNDAEL_128, <span class="variable">$password</span>, <span class="variable">$data</span>, MCRYPT_MODE_ECB);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$data</span> = trim(file_get_contents(<span class="string">'php://stdin'</span>));</span><br><span class="line"><span class="keyword">echo</span> decrypt(<span class="variable">$data</span>);</span><br></pre></td></tr></table></figure>
<p>现在我们来解密它发送的三个请求：</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">GET /initapi?0EF3CC39DB8ED6938DC<span class="number">47B2D626</span>F4D1FAEA274211EB1A8FC1490F7FA0BFCD28ACE<span class="number">887174D7C22</span>BAE74DB<span class="number">70A6197552</span>C<span class="number">58E48B39A41</span>B<span class="number">4C798B82</span>E44F34F9EDCE<span class="number">1C3A92E1</span>BC<span class="number">679C91D87</span>CBD598CC36C52AA<span class="number">00294A748</span>DCCE0DF<span class="number">84704E73D00</span>C<span class="number">6A7B8299</span>ED6ED<span class="number">854906B3</span>E<span class="number">72C1028873</span>F7E8FBF<span class="number">1C38A799</span>E059C80AD<span class="number">0A76836C8</span>FB3CA9B410DC<span class="number">41B30394F76</span>CFF4FD321783EDE69D322CA8658FF982E7BD77FAF<span class="number">69C7D79833</span>8B01BC62AAD<span class="number">9F20C42664</span>2ABE4E6B8DCDDE379ECA<span class="number">2F5188990</span>E2F9FB0E9489AEB47955DC00DE2AD<span class="number">752F06B6</span>BAA18141CBB<span class="number">1C047356</span>D41A8984EE<span class="number">16790C1C18</span>C<span class="number">765A46B86</span>25FCC<span class="number">9E08C3A98</span>1226F7BC31422DF0CF<span class="number">446789B80</span>8A9003AD73133CCE<span class="number">0A2C79B38</span>EB1A4D92FCF8FBB<span class="number">0C47186418</span>D2EF<span class="number">55E96D2569</span>D544AB84983EB<span class="number">013C2A5</span>FD3B1EBC5EE<span class="number">6234652</span>FE4ABBDE85FE<span class="number">04B5A6372</span>A4004AD74622 HTTP/1.1</span><br><span class="line">Host: sdk.juhe.cn</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Language: en<span class="comment">;q=1</span></span><br><span class="line">Connection: keep-alive</span><br><span class="line">User-Agent: JuheApisDemo/1 (iPhone<span class="comment">; iOS 8.1; Scale/2.00)</span></span><br></pre></td></tr></table></figure>
<p>解密后是一串 querystring，为了看得更清楚一些我这里以 JSON 的格式显示：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="string">"idfa"</span> : <span class="string">"13D66220-D133-4145-8D60-4A1CC99C0178"</span>,</span><br><span class="line">   <span class="string">"lat"</span> : <span class="string">"0.000000"</span>,</span><br><span class="line">   <span class="string">"model"</span> : <span class="string">"iPhone"</span>,</span><br><span class="line">   <span class="string">"lon"</span> : <span class="string">"0.000000"</span>,</span><br><span class="line">   <span class="string">"pname"</span> : <span class="string">"com.thinkland.JuheApisDemo"</span>,</span><br><span class="line">   <span class="string">"sim"</span> : <span class="string">"中国电信"</span>,</span><br><span class="line">   <span class="string">"imei"</span> : <span class="string">"48d34682f03f55be46b953bd5e2111c14c0c5e9a"</span>,</span><br><span class="line">   <span class="string">"os"</span> : <span class="string">"8.1"</span>,</span><br><span class="line">   <span class="string">"openid"</span> : <span class="string">"JH1a5e42462c03dbec36c224c33fa0be65"</span>,</span><br><span class="line">   <span class="string">"network"</span> : <span class="string">"CTRadioAccessTechnologyCDMAEVDORevA"</span>,</span><br><span class="line">   <span class="string">"type"</span> : <span class="string">"iPhone OS"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>发送了我的 IDFA、位置、手机型号、运营商、IMEI、系统版本和网络制式。其中位置信息由于没有请求位置权限，所以显示的是 0.000000。</p>
<p>这里的都还好，下一个请求：<br><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="request">POST <span class="string">/initialize</span> HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span>: <span class="string">sdk.juhe.cn</span></span><br><span class="line"><span class="attribute">Accept</span>: <span class="string">*/*</span></span><br><span class="line"><span class="attribute">Accept-Encoding</span>: <span class="string">gzip, deflate</span></span><br><span class="line"><span class="attribute">Content-Length</span>: <span class="string">3040</span></span><br><span class="line"><span class="attribute">Content-Type</span>: <span class="string">application/x-www-form-urlencoded; charset=utf-8</span></span><br><span class="line"><span class="attribute">Accept-Language</span>: <span class="string">en;q=1</span></span><br><span class="line"><span class="attribute">Connection</span>: <span class="string">keep-alive</span></span><br><span class="line"><span class="attribute">User-Agent</span>: <span class="string">JuheApisDemo/1 (iPhone; iOS 8.1; Scale/2.00)</span></span><br><span class="line"></span><br><span class="line"><span class="dns">73AA9E8CBE5FCFDF<span class="number">120F9C4E3</span>ADA11E5098FE158DA<span class="number">50A604D3</span>E3F22D31DFFBDD806962BCC8DD56CC<span class="number">691F11C72</span><span class="number">525983C6</span>D<span class="number">0259878085</span>EF<span class="number">80988D6493</span>A7977BD3E8AB<span class="number">0F802D54</span>E81DDC38DF<span class="number">4D1B30526</span>857EFE953AE6BE9729EDDA125CFFCE686BEB<span class="number">010E79E64</span><span class="number">6E75507B21</span>F<span class="number">15C838019</span>D1AB170B39BE4BD<span class="number">115A988B15</span>E<span class="number">51D0D569</span>B1CC<span class="number">2C3B34B41</span><span class="number">91756906065</span>E<span class="number">05D8B0F32</span>4CE47DA85F29BC3CE88D1A3FD<span class="number">2D9D861</span>CDED<span class="number">624387A70</span>C<span class="number">0B4F774212</span><span class="keyword">A</span><span class="number">9E6153C148</span>427BB<span class="number">5B4371C90</span>71FC<span class="number">19B04A5088</span>F27CF<span class="number">599B48677</span>D<span class="number">0D86104486</span>FE4DAB<span class="number">8B125A6B16</span>BABB0810BCB2B855ADA<span class="number">41F9110D0</span>FA<span class="number">7B84C2E28</span>3545DC1281FC149BBE<span class="number">809B9C90</span><span class="number">8F34596635</span><span class="number">1211F168363</span>253677BE<span class="number">2E0702331</span>C<span class="number">19B9545A5</span>F8297EA<span class="number">564E085</span>BEF3B4D4CDB3A974BD<span class="number">92A02766564</span><span class="number">9F9772A09</span><span class="number">5F436C26</span>C<span class="number">4348E482</span>BC78DC9F08B39EE0D8E7EE<span class="number">4F3108189</span>E2F1FB<span class="number">7B4A902</span>CCE<span class="number">70C281733</span>F0312AE<span class="number">23B954D92</span>A4E4B8BFF<span class="number">9E696A114</span>BE3F1AEBC<span class="number">54308906271</span>0894AF<span class="number">433C0592</span>F6AB<span class="number">22E234D64C73</span>54EF<span class="number">33A9161E3</span>B3ECEEE<span class="number">61D973D4</span>E7AA9EDF38FCF19848AF<span class="number">388198C7C4</span>B<span class="number">521E81709</span>F8DDE<span class="number">72C242C34405</span>F<span class="number">715A56362</span>4AD55BF5325BCF<span class="number">4885937D79</span>C572FBDFA9D8FEE<span class="number">7F813E05</span>6CF2BAC50CEFE8086E8CA9DE<span class="number">848F0D1</span>CEFA<span class="number">4F176387</span>EE<span class="number">77F81109</span>CE602AD<span class="number">64B1C9577</span>B<span class="number">91F301D6</span>BEA16E2F01CD5BB<span class="number">81268C72307</span><span class="number">585C26183</span>E471DC<span class="number">2E58A19A7</span>CFBE<span class="number">713E40F58</span>B34EC<span class="number">796920F98</span><span class="number">28616F4D5</span>E<span class="number">681616C2</span>A5FB13BED991BE<span class="number">158D4817</span>CBC90EEED<span class="number">88B0D776</span>B36206AF919D92CBE748209AA64EDB<span class="number">889B01394</span>9DE<span class="number">263D2501</span>E38C017BAB46BD43F6B0CA084FDDAEDB<span class="number">962E56D93</span>5FB<span class="number">3A6142F6</span>B1A8A3DCDFFC45E20FCEC6AB<span class="number">362A9D04</span>DE99D75CCF<span class="number">4C83F9934</span><span class="keyword">A</span><span class="number">82B013B32</span><span class="number">42459F8B9</span>CEF<span class="number">4567780</span>FDC35FA45B3CB<span class="number">15047D26</span>DF<span class="number">994869C26</span>E<span class="number">6E4688A2</span>A54CC61B87CE<span class="number">69821F0B1</span>DA<span class="number">768C0530</span>A4E74B7AF<span class="number">11647C51C202</span><span class="number">85130168190</span>E<span class="number">10F799E12</span><span class="keyword">A</span><span class="number">69C87919E33</span><span class="number">78F2D8E3</span>ED0B4BE<span class="number">136E84A084</span>E20F94F6EC<span class="number">8587310E38</span>724A00DA<span class="number">5F039B79</span>3EF9C5B0DB3EE1EB<span class="number">8B593197E9</span>B52B7862FEE0EEE6E742BD635644CED0CED<span class="number">33809B556</span>CD7AC5390CB<span class="number">018652C3</span>FF<span class="number">8D0145A70</span>4FA62E9EB<span class="number">669B68754</span>B09BD<span class="number">04A20E0D0</span>EA<span class="number">13104257B43</span><span class="number">7E195347833</span>CE<span class="number">9023D392</span>EC<span class="number">0E94E8A46</span>3C0766BEEF623CF94F6EC<span class="number">8587310E38</span>724A00DA<span class="number">5F039B72</span>6DE<span class="number">1C55C9A76</span>8460D9DCFAD1A60BBF<span class="number">36B0D6B18</span><span class="keyword">A</span><span class="number">57A4B725</span>BDE71093EB<span class="number">8A8E9B59</span><span class="number">3100C272</span>D<span class="number">9B12596210</span>DBCD8AC19AAFF<span class="number">55A224C561</span>C3AF8705B6FCA<span class="number">7583D895</span>E2CCEBE8AA14B6FD90044FE<span class="number">182157303675</span>4EE03624BD<span class="number">10D23257F06</span>436735AA<span class="number">5179C5E74</span>DF92FFCA0C6AF<span class="number">61E1256F7</span>CE<span class="number">8E348A8</span>DD4706DF4FC<span class="number">52A54098D38</span>791434CA45E1693DBFDE<span class="number">6639715</span>CDD18FB35D8DE5FC57CFC9C2AAC<span class="number">28987574748</span>7EDCCB<span class="number">050E6F70</span>0B36DD<span class="number">04074833</span>DAA3CA9C3ADB15C3552AFE488352ADA4E2FB3FD3B63C8BE<span class="number">2A38296092</span>EA<span class="number">1F6D26F84</span>B5B46ED65AE90DFD<span class="number">8D21D7D78</span><span class="number">49A2F5480</span>E50922CC<span class="number">47C9E4316</span>E<span class="number">7B52E706</span>EC<span class="number">9B30C0041</span>F64DD<span class="number">3241F3E8</span>FFFDF<span class="number">32D6C4B8</span>DC4FD1A27ED1DEE1EA<span class="number">68123F513</span>CE<span class="number">09F886224E115</span>83A3FAF<span class="number">063D48E5</span>CD<span class="number">35D67C8142</span>EA206AAF0A8ECBA<span class="number">1123157C24E126</span>A6CAB<span class="number">35917C36861</span><span class="number">29D39D9A14</span>DFF<span class="number">323D81561</span>0E29DE3B5EDA91CD91EDE67DCAC<span class="number">51728F5</span>CD199C5CDFA4D618DA<span class="number">05027665649</span>F<span class="number">9772A095</span>F<span class="number">436C26C43</span>48E41DFEB<span class="number">2E75104959</span><span class="number">2775469D52</span><span class="number">996E7629</span>E2F1FB<span class="number">7B4A902</span>CCE<span class="number">70C281733</span>F<span class="number">0312A26E60</span>6DAEE06EF6AA<span class="number">3861F58F56</span>D66E07BEC6D2CCA<span class="number">7448216A4</span>B<span class="number">0A634282</span>C11DDC<span class="number">4F17F26B0</span>B<span class="number">976992F90</span><span class="number">221843744E6</span>F<span class="number">7E1E4690</span>D797ED<span class="number">65297B276</span>B5E6BD<span class="number">5232284</span>CA<span class="number">56B21F5A80</span>6DAEF<span class="number">23840169D61</span>6471EE<span class="number">50B4410227</span>FD485CC<span class="number">05F64C33D43</span><span class="number">7E833B4</span>D31661ECB<span class="number">89A8F5D3</span><span class="keyword">A</span><span class="number">1C42572936</span><span class="number">9D205F628</span>BC<span class="number">39B18E5057</span>DEB<span class="number">364D66195</span>54E66FC97A874BF0F15FE<span class="number">6D1B856</span>FF<span class="number">906E8462</span>DCCECBD958A4FE<span class="number">80647298</span>AFE<span class="number">00F2A640</span>D519FFF81AA3DEF<span class="number">742827D62</span><span class="number">7E04B3B55</span><span class="number">7D8F899</span>FFEECA<span class="number">8D6E3E98</span>DE<span class="number">406026B64</span>AC<span class="number">040C0377</span>F<span class="number">9479296E6</span>BC9647C3DF<span class="number">34405F2D69</span>EBC<span class="number">4957D0C65</span><span class="number">6E0C77929</span>96FABF85BD<span class="number">4462C1F29</span>53EDE69D322CA8658FF982E7BD77FAF69130AD<span class="number">757016D7</span>D<span class="number">982E51B01</span><span class="number">3A967F19</span>B</span></span><br></pre></td></tr></table></figure></p>
<p>解密后是一串格式化过的 JSON，说起来真是浪费空间呐，虽然有 gzip 也不要这样子嘛：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="string">"idfa"</span> : <span class="string">"13D66220-D133-4145-8D60-4A1CC99C0178"</span>,</span><br><span class="line">   <span class="string">"type"</span> : <span class="string">"iPhone OS"</span>,</span><br><span class="line">   <span class="string">"pname"</span> : <span class="string">"com.thinkland.JuheApisDemo"</span>,</span><br><span class="line">   <span class="string">"sim"</span> : <span class="string">"中国电信"</span>,</span><br><span class="line">   <span class="string">"lon"</span> : <span class="string">""</span>,</span><br><span class="line">   <span class="string">"list"</span> : [</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="string">"disPlayName"</span> : <span class="string">"DoeJoe"</span>,</span><br><span class="line">         <span class="string">"listNoteinfo"</span> : [</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="string">"noteinfo"</span> : <span class="string">""</span></span><br><span class="line">            &#125;</span><br><span class="line">         ],</span><br><span class="line">         <span class="string">"listAddress"</span> : [</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="string">"street"</span> : <span class="string">""</span>,</span><br><span class="line">               <span class="string">"city"</span> : <span class="string">""</span>,</span><br><span class="line">               <span class="string">"region"</span> : <span class="string">""</span>,</span><br><span class="line">               <span class="string">"postCode"</span> : <span class="string">""</span>,</span><br><span class="line">               <span class="string">"formatAddress"</span> : <span class="string">"&#123;\n    City = Suzhou;\n    Country = China;\n    CountryCode = cn;\n    State = Jiangsu;\n    Street = \"Each St\\nChangwan\";\n    ZIP = 215000;\n&#125;"</span></span><br><span class="line">            &#125;</span><br><span class="line">         ],</span><br><span class="line">         <span class="string">"contactId"</span> : <span class="string">"1"</span>,</span><br><span class="line">         <span class="string">"listEmail"</span> : [</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="string">"emailType"</span> : <span class="string">""</span>,</span><br><span class="line">               <span class="string">"emailValue"</span> : <span class="string">"spyware@spyware.tld"</span></span><br><span class="line">            &#125;</span><br><span class="line">         ],</span><br><span class="line">         <span class="string">"listPhone"</span> : [</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="string">"phoneType"</span> : <span class="string">"iOS"</span>,</span><br><span class="line">               <span class="string">"phoneNumber"</span> : <span class="string">" (0) 21110"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="string">"phoneNumber"</span> : <span class="string">" (0) 10110"</span>,</span><br><span class="line">               <span class="string">"phoneType"</span> : <span class="string">"iOS"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="string">"phoneType"</span> : <span class="string">"iOS"</span>,</span><br><span class="line">               <span class="string">"phoneNumber"</span> : <span class="string">" (0) 1012315"</span></span><br><span class="line">            &#125;</span><br><span class="line">         ],</span><br><span class="line">         <span class="string">"listNickname"</span> : [</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="string">"nickname"</span> : <span class="string">""</span></span><br><span class="line">            &#125;</span><br><span class="line">         ],</span><br><span class="line">         <span class="string">"listOrganizations"</span> : [</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="string">"company"</span> : <span class="string">"Spyware Technologies LLC"</span>,</span><br><span class="line">               <span class="string">"title"</span> : <span class="string">""</span></span><br><span class="line">            &#125;</span><br><span class="line">         ]</span><br><span class="line">      &#125;</span><br><span class="line">   ],</span><br><span class="line">   <span class="string">"imei"</span> : <span class="string">"48d34682f03f55be46b953bd5e2111c14c0c5e9a"</span>,</span><br><span class="line">   <span class="string">"model"</span> : <span class="string">"iPhone"</span>,</span><br><span class="line">   <span class="string">"openid"</span> : <span class="string">"JH1a5e42462c03dbec36c224c33fa0be65"</span>,</span><br><span class="line">   <span class="string">"lat"</span> : <span class="string">""</span>,</span><br><span class="line">   <span class="string">"network"</span> : <span class="string">"CTRadioAccessTechnologyCDMAEVDORevA"</span>,</span><br><span class="line">   <span class="string">"os"</span> : <span class="string">"8.1"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不用我再多说啥了吧？我给份对照表大家慢慢看。</p>
<p>由于里面的英文表达的不准确、大小写位置也有不正确的，可能引起强迫症患者不适，不过原文如此，我也没办法啦～</p>
<table>
<thead>
<tr>
<th>Parent key</th>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>disPlayName</td>
<td>显示名称</td>
</tr>
<tr>
<td>listNoteinfo</td>
<td>noteinfo</td>
<td>联系人备注</td>
</tr>
<tr>
<td>listAddress</td>
<td>street</td>
<td>住址：街道</td>
</tr>
<tr>
<td>listAddress</td>
<td>city</td>
<td>住址：城市</td>
</tr>
<tr>
<td>listAddress</td>
<td>region</td>
<td>住址：省份</td>
</tr>
<tr>
<td>listAddress</td>
<td>postCode</td>
<td>住址：邮编</td>
</tr>
<tr>
<td>listAddress</td>
<td>formatAddress</td>
<td>格式化后的住址</td>
</tr>
<tr>
<td>-</td>
<td>contactId</td>
<td>联系人 ID</td>
</tr>
<tr>
<td>listEmail</td>
<td>emailType</td>
<td>E-mail 类型</td>
</tr>
<tr>
<td>listEmail</td>
<td>emailValue</td>
<td>E-mail 地址</td>
</tr>
<tr>
<td>listPhone</td>
<td>phoneType</td>
<td>电话号码类型</td>
</tr>
<tr>
<td>listPhone</td>
<td>phoneNumber</td>
<td>电话号码</td>
</tr>
<tr>
<td>listNickname</td>
<td>nickname</td>
<td>昵称</td>
</tr>
<tr>
<td>listOrganizations</td>
<td>company</td>
<td>公司</td>
</tr>
<tr>
<td>listOrganizations</td>
<td>title</td>
<td>职位</td>
</tr>
</tbody>
</table>
<h3 id="短信验证码_SDK_(iOS_SDK_v1-0-1)">短信验证码 SDK (iOS SDK v1.0.1)</h3><p>以下的我都偷懒直接 strings 大法好了：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># strings SMSSDKDemo/SMSSDK.framework/SMSSDK | grep -i SMSAddressBook</span></span><br><span class="line">uploadSMSAddressBook</span><br><span class="line">initSMSAddressBook:</span><br><span class="line">getSMSAddressBook:</span><br><span class="line">getSMSAddressBookJsonString:</span><br><span class="line">SMSAddressBook</span><br><span class="line">uploadSMSAddressBook</span><br><span class="line">initSMSAddressBook:</span><br><span class="line">getSMSAddressBook:</span><br><span class="line">getSMSAddressBookJsonString:</span><br><span class="line">SMSAddressBook</span><br><span class="line">uploadSMSAddressBook</span><br><span class="line">initSMSAddressBook:</span><br><span class="line">getSMSAddressBook:</span><br><span class="line">getSMSAddressBookJsonString:</span><br><span class="line">SMSAddressBook</span><br></pre></td></tr></table></figure></p>
<p>这个版本最诚实，<code>uploadSMSAddressBook</code> 就直接当函数名了啊哈哈～</p>
<h3 id="条码数据_SDK_(iOS_SDK_v1-0-2)">条码数据 SDK (iOS SDK v1.0.2)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># strings Barcode_iOSSDK_v1.2/barcode/demoBarcode/JuheBarcode.framework/Versions/A/JuheBarcode | grep -i SMSAddressBook</span></span><br><span class="line">initSMSAddressBook:</span><br><span class="line">getSMSAddressBook:</span><br><span class="line">getSMSAddressBookJsonString:</span><br></pre></td></tr></table></figure>
<p>会上传。</p>
<h3 id="比价数据_SDK_(iOS_SDK_v1-0-0)">比价数据 SDK (iOS SDK v1.0.0)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># strings bijia.sdk.v1.0/JuhePrice.framework/Versions/A/JuhePrice| grep -i SMS</span></span><br></pre></td></tr></table></figure>
<p>没有。</p>
<h3 id="电商数据_SDK_(iOS_SDK_v1-0-0)">电商数据 SDK (iOS SDK v1.0.0)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># strings dianshang.sdk.v1.0/JuheEBusiness.framework/Versions/A/JuheEBusiness | grep -i SMS</span></span><br></pre></td></tr></table></figure>
<p>没有。</p>
<h3 id="聚合基站_(2-3-4)">聚合基站 (2.3.4)</h3><p>会上传通讯录。</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="request">POST <span class="string">/initialize</span> HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span>: <span class="string">sdk.juhe.cn</span></span><br><span class="line"><span class="attribute">Accept</span>: <span class="string">*/*</span></span><br><span class="line"><span class="attribute">Accept-Encoding</span>: <span class="string">gzip, deflate</span></span><br><span class="line"><span class="attribute">Content-Length</span>: <span class="string">3136</span></span><br><span class="line"><span class="attribute">Content-Type</span>: <span class="string">application/x-www-form-urlencoded; charset=utf-8</span></span><br><span class="line"><span class="attribute">Accept-Language</span>: <span class="string">en;q=1</span></span><br><span class="line"><span class="attribute">Connection</span>: <span class="string">keep-alive</span></span><br><span class="line"><span class="attribute">User-Agent</span>: <span class="string">BaseStation/2.3.4 (iPhone; iOS 8.1; Scale/2.00)</span></span><br><span class="line"></span><br><span class="line"><span class="dns">73AA9E8CBE5FCFDF<span class="number">120F9C4E3</span>ADA11E5098FE158DA<span class="number">50A604D3</span>E3F22D31DFFBDD806962BCC8DD56CC<span class="number">691F11C72</span><span class="number">525983C6</span>D<span class="number">0259878085</span>EF<span class="number">80988D6493</span>A7977BD3E8AB<span class="number">0F802D54</span>E81DDC38DF<span class="number">4D1B30526</span>857EFE953AE6BE9729EDDA125CFFCE686BEB<span class="number">010E79E64</span><span class="number">6E75507B21</span>F<span class="number">15C838019</span>D1AB170B39BE4BD<span class="number">115A988B15</span>E51D0D53BF955CA1EE69492CA<span class="number">2B92951D63</span>0AAACF07DDBA6B0FC5EBF<span class="number">680558092</span>FA451EE3DD03DF<span class="number">6A1A9C68</span>BDC1DA8B435BB<span class="number">9D6153C148</span>427BB<span class="number">5B4371C90</span>71FC<span class="number">19B04A52E39</span>1960CE962CE47DB5DFFBF<span class="number">0B118050</span>BE<span class="number">1F9E08D31</span>37F0DBF3F7CA62BD3E0CEB928FC<span class="number">5D6566C4</span>F47AE<span class="number">673585E8</span>B<span class="number">2A4B6C86</span><span class="number">290B100</span>EA09BEF<span class="number">62C68C0B9</span>DA<span class="number">1774D063</span>D02DCC77C6AD08DBEE1BE<span class="number">10489D36A86</span><span class="number">7B758B8</span>F11AFFCD<span class="number">6E49D75F50</span><span class="number">51675D4F7</span>BF<span class="number">03656872665</span><span class="number">55094564929</span><span class="number">07285241129</span>C3C08FC47BB12FA<span class="number">82343E6C1</span>C5A23C8AF115D1BC074EFF2BFBDD3830CD<span class="number">2E7C64B0</span>ECE<span class="number">88888D64</span>DCEE4B0C49BBE<span class="number">809B9C90</span><span class="number">8F34596635</span><span class="number">1211F1683164</span>E<span class="number">95824121A0</span>C0F1CDD18257CDB<span class="number">57472F89D81</span>35FEB13BEC<span class="number">886D10E0</span>F<span class="number">5C694364223</span>B<span class="number">0B1441B88</span>9A8BBBD<span class="number">94241801</span>AD<span class="number">117846002D6</span>E<span class="number">7F2B247B69</span>D<span class="number">2273A612</span>C<span class="number">1D1C6D5</span>F511ACCA8016FEE51CDE6CE9E1C92FD<span class="number">44D74487E6</span>F7AB<span class="number">50F6641031</span>AE<span class="number">23B954D92</span>A4E4B8BFF<span class="number">9E696A114</span>BE3F1AEBC<span class="number">54308906271</span>0894AF<span class="number">433C0592</span>F6AB<span class="number">22E234D64C73</span>54EF<span class="number">33A9161E3</span>B3ECEA72EF216AB<span class="number">7E09A2D01</span>ECE84A09AF<span class="number">3798198C7</span>C<span class="number">4B521E81</span>709F8DDE<span class="number">72C242C34405</span>F<span class="number">715A56362</span>4AD55BF5325BCF<span class="number">4885937D79</span>C572FBDFA9D8FEE<span class="number">7F813E05</span>6CF2BAC50CEFE8086E8CA9DE<span class="number">848F0D1</span>CEFA<span class="number">4F176387</span>EE<span class="number">77F81109</span>CE602AD<span class="number">64B1C95786</span>E<span class="number">591A1B6</span>B28F0803EDF<span class="number">40B841C99</span>CA33AE<span class="number">5183815</span>AA<span class="number">0163C8858</span>A036AA<span class="number">1E0A02A70</span>2660ECD<span class="number">4F0A91963</span>F<span class="number">3E0199E06</span>868BB<span class="number">46A706F81</span><span class="number">5E0B476</span><span class="keyword">A</span><span class="number">516345D3</span>DC<span class="number">44F02475D87</span>169EFB0DD8C57FACD<span class="number">999C414127</span>E<span class="number">2B443716</span>C<span class="number">2C077A78</span><span class="number">836572211238</span>6DD49D3A4FB<span class="number">6E53342E4</span>AED<span class="number">87A8D5F6</span>F30E95EA8F7AC6418FAB<span class="number">93C7D8D0</span>FC93AE9B7357DC24877CC<span class="number">7D4A8845</span>E9FC932284CA<span class="number">56B21F5A80</span>6DAEF<span class="number">23840169D6</span>BE8E3C5EB<span class="number">8C48F3090</span>BAC<span class="number">0420B85156</span><span class="number">62F3C66085</span><span class="number">1C368255D6</span>C8D8CD<span class="number">42F712396</span>B<span class="number">68821543C00</span><span class="number">7F86422D93</span>5ED43FC<span class="number">1F4A5533</span>B<span class="number">56B09663441</span>EEDA4A4DE2AB2FA<span class="number">44E7579C1</span>F2C30A2DC0AC3DF16ECFDC5EDB<span class="number">9B7C219</span>AA46CBE8E9AFDEDECDBF177BA<span class="number">213B7A48</span>DD<span class="number">46C9D61793</span>E16F914BE8E3C5EB<span class="number">8C48F3090</span>BAC<span class="number">0420B85156</span>6A53D2AF<span class="number">64C414B5</span>FCDDD<span class="number">3B8F5A41</span>4C754DFD588FF47DBEDF19877EDEF91197EE<span class="number">260B744</span>B<span class="number">3E6B2B25</span>CE<span class="number">39480B224403</span>FA<span class="number">1E8495267</span>D17FA<span class="number">9756F7A40</span>0879EA<span class="number">235D75083030</span><span class="number">956B00E8</span><span class="keyword">A</span><span class="number">62B4708A77</span>8F0EB<span class="number">562E16C8</span>E06EB7DB7FA4B35CDC<span class="number">7C66123D09</span>FBFBC<span class="number">69B8985D90</span>8FAE76FDD279239DD8306DE<span class="number">513A206856</span>E3AB40064BEAF<span class="number">9B61971</span>ACE<span class="number">7C9A46A7</span>EFFC4C5BC<span class="number">2A80968B89</span>969BD<span class="number">1535F04663</span>F0FD7B34D96CECD<span class="number">7038867</span>BD<span class="number">9F957E38</span>F1DB<span class="number">532933F4</span>CEA<span class="number">2A1C5D6</span>D61FDD<span class="number">8D91F7F49</span><span class="number">8291F513</span>EC<span class="number">290E7C83</span><span class="number">89799D60F54</span><span class="number">62300687</span>AAC<span class="number">5E45F542</span>E22FE63FEBC8CF<span class="number">00925E0A38</span>D<span class="number">2A579116</span>AE2BFB36F300ACA<span class="number">048648A42</span><span class="number">57429F1439</span>E<span class="number">8F1E36986</span>A3B9E8CE6AD<span class="number">933B0E7</span>B<span class="number">484E34068</span>E5060DD1B76ABBEFC43BE<span class="number">7A1E4D69</span><span class="keyword">A</span><span class="number">825C24211</span>D0CF6CE8D77A9DAFFFD<span class="number">272118F335</span>B<span class="number">70E88D8A75</span>F63C92D5BE<span class="number">8A79601</span>AC8067C37BF5F6EFBA24FFE<span class="number">3D241F2F12</span>ED<span class="number">1886460516</span>C<span class="number">1C5A23C8</span>AF115D1BC074EFF2BFBDD3BE<span class="number">645B255</span>BD<span class="number">77018A65F68</span>62221ACA4749BBE<span class="number">809B9C90</span><span class="number">8F34596635</span><span class="number">1211F168308</span>6D73DA<span class="number">945916C5</span>D8EFC82C2CB859F43FACBEDAAB1084CD6CE091FBB<span class="number">20B1A159</span>FEE8FCEAA4FCA8A7ACB<span class="number">53B145F248D50</span>86D73DA<span class="number">945916C5</span>D8EFC82C2CB<span class="number">859F4591</span>E<span class="number">4F586413</span>F<span class="number">532C14C66</span>18CB12685DEBFE034BD7EF6CB<span class="number">7949682</span>DC<span class="number">04B9399E97</span>3A0F55DA9BB508CA<span class="number">5E70060E04</span>B9AAA27BBC70E1BCDBC76F5F37CA162B2ABE2933BEBFF<span class="number">30847B06F2</span>E5339BA67B8133DA5CD554C1BE5C1EFE<span class="number">85378321E29</span><span class="number">8E272F6</span>C13B9AB3DD738DBA98AC<span class="number">717C7F30</span>EBABE<span class="number">1395E76606</span>BD4F1CBACDE<span class="number">01715E2</span>AEF<span class="number">32E6C5F69</span>E0D1DF5B312BD<span class="number">2412C63C37</span><span class="number">4D5F722</span>BD9F936FE99398DCA<span class="number">88741425F62</span><span class="number">142949188544</span><span class="number">0F5267A3</span>EC3ACD611BB843FAB<span class="number">1C31078</span>AC40FD6EE365704FFADD<span class="number">5A5441903</span>C6170EECFAABCCB21F60C8CCEFE80733BB66F704BA645ED</span></span><br></pre></td></tr></table></figure>
<p>解密后结果：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"idfa"</span> : <span class="string">"13D66220-D133-4145-8D60-4A1CC99C0178"</span>,</span><br><span class="line">  <span class="string">"lon"</span> : <span class="string">""</span>,</span><br><span class="line">  <span class="string">"sim"</span> : <span class="string">"中国电信"</span>,</span><br><span class="line">  <span class="string">"type"</span> : <span class="string">"iPhone OS"</span>,</span><br><span class="line">  <span class="string">"imei"</span> : <span class="string">"321a804136f53aef66a52296f4773ba4f3c1abf0"</span>,</span><br><span class="line">  <span class="string">"os"</span> : <span class="string">"8.1"</span>,</span><br><span class="line">  <span class="string">"lat"</span> : <span class="string">""</span>,</span><br><span class="line">  <span class="string">"pname"</span> : <span class="string">"com.think-land.juhe"</span>,</span><br><span class="line">  <span class="string">"list"</span> : [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"listNickname"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"nickname"</span> : <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"listPhone"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"phoneType"</span> : <span class="string">"iOS"</span>,</span><br><span class="line">          <span class="string">"phoneNumber"</span> : <span class="string">" (0) 21110"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"phoneType"</span> : <span class="string">"iOS"</span>,</span><br><span class="line">          <span class="string">"phoneNumber"</span> : <span class="string">" (0) 10110"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"phoneType"</span> : <span class="string">"iOS"</span>,</span><br><span class="line">          <span class="string">"phoneNumber"</span> : <span class="string">" (0) 1012315"</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"listOrganizations"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"company"</span> : <span class="string">"Spyware Technologies LLC"</span>,</span><br><span class="line">          <span class="string">"title"</span> : <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"disPlayName"</span> : <span class="string">"DoeJoe"</span>,</span><br><span class="line">      <span class="string">"listNoteinfo"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"noteinfo"</span> : <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"contactId"</span> : <span class="string">"1"</span>,</span><br><span class="line">      <span class="string">"listAddress"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"street"</span> : <span class="string">""</span>,</span><br><span class="line">          <span class="string">"formatAddress"</span> : <span class="string">"&#123;\n    City = Suzhou;\n    Country = China;\n    CountryCode = cn;\n    State = Jiangsu;\n    Street = \"Each St\\nChangwan\";\n    ZIP = 215000;\n&#125;"</span>,</span><br><span class="line">          <span class="string">"city"</span> : <span class="string">""</span>,</span><br><span class="line">          <span class="string">"postCode"</span> : <span class="string">""</span>,</span><br><span class="line">          <span class="string">"region"</span> : <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"listEmail"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"emailValue"</span> : <span class="string">"spyware@spyware.tld"</span>,</span><br><span class="line">          <span class="string">"emailType"</span> : <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"model"</span> : <span class="string">"iPhone"</span>,</span><br><span class="line">  <span class="string">"openid"</span> : <span class="string">"JHaf65a935c448fe7772d219d44a49e6aa"</span>,</span><br><span class="line">  <span class="string">"network"</span> : <span class="string">"CTRadioAccessTechnologyCDMAEVDORevA"</span>,</span><br><span class="line">  <span class="string">"openId"</span> : <span class="string">"JHaf65a935c448fe7772d219d44a49e6aa"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="你查查_(1-6-4)">你查查 (1.6.4)</h3><p>会上传通讯录。</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="request">POST <span class="string">/initialize</span> HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span>: <span class="string">sdk.juhe.cn</span></span><br><span class="line"><span class="attribute">Accept</span>: <span class="string">*/*</span></span><br><span class="line"><span class="attribute">Accept-Encoding</span>: <span class="string">gzip, deflate</span></span><br><span class="line"><span class="attribute">Content-Length</span>: <span class="string">3136</span></span><br><span class="line"><span class="attribute">Content-Type</span>: <span class="string">application/x-www-form-urlencoded; charset=utf-8</span></span><br><span class="line"><span class="attribute">Accept-Language</span>: <span class="string">en;q=1</span></span><br><span class="line"><span class="attribute">Connection</span>: <span class="string">keep-alive</span></span><br><span class="line"><span class="attribute">User-Agent</span>: <span class="string">Nichacha/1.6.4 (iPhone; iOS 8.1; Scale/2.00)</span></span><br><span class="line"></span><br><span class="line"><span class="dns">73AA9E8CBE5FCFDF<span class="number">120F9C4E3</span>ADA11E5098FE158DA<span class="number">50A604D3</span>E3F22D31DFFBDD806962BCC8DD56CC<span class="number">691F11C72</span><span class="number">525983C6</span>D<span class="number">0259878085</span>EF<span class="number">80988D6493</span>A7977BD3E8AB<span class="number">0F802D54</span>E81DDC38DF<span class="number">4D1B30526</span>857EFE953AE6BE9729EDDA125CFFCE686BEB<span class="number">010E79E64</span><span class="number">6E75507B21</span>F<span class="number">15C838019</span>D1AB170B39BE4BD<span class="number">115A988B15</span>E51D0D53BF955CA1EE69492CA<span class="number">2B92951D63</span>0AAACF07DDBA6B0FC5EBF<span class="number">680558092</span>FA451EE3DD03DF<span class="number">6A1A9C68</span>BDC1DA8B435BB<span class="number">9D6153C148</span>427BB<span class="number">5B4371C90</span>71FC<span class="number">19B04A52E39</span>1960CE962CE47DB5DFFBF<span class="number">0B118050</span>BE<span class="number">1F9E08D31</span>37F0DBF3F7CA62BD3E0C9EB9EA<span class="number">5D89B024</span>EDA2DCC42BCA<span class="number">338B855</span>FD8C5C1DCCE8F5EAC43132DBB<span class="number">1B86C25B71</span>78DBCAAAE928BEB<span class="number">1B4469B36</span>CAB6B37CB52FD<span class="number">11A91F7904</span>F100CE66C88EA<span class="number">565F944</span>D78E7AC5BE9DCCB8C39BF<span class="number">165F3B46631</span><span class="number">45434B8A5</span>C8A34BE<span class="number">68F92933639</span>E75DFB<span class="number">3E55C1203</span>AE720BA<span class="number">0A32C16A47</span>B30B984AE<span class="number">14B9114F48</span><span class="number">70D1C0E8</span>E59FA<span class="number">44E7579C1</span>F2C30A2DC0AC3DF16ECFDF<span class="number">67D58706</span>ADAEC0BA91D76BE<span class="number">04386F0E26</span><span class="keyword">A</span><span class="number">9F1D262</span>DE<span class="number">155F712841</span>D<span class="number">9578969A74</span>3593DF<span class="number">6499B05365</span>D<span class="number">88B11D1D5</span>B82A369BBB5B5C48DCC8C19CBC<span class="number">9306555012</span>C<span class="number">498C42986</span>F86C47DCA46AB<span class="number">02927D0</span>FB60E0D0EA<span class="number">13104257B43</span><span class="number">7E195347833</span>CE<span class="number">93D0B4A8</span>D<span class="number">5B9E3322</span>EC<span class="number">172D27F38E56</span>7C9EFAB<span class="number">875D1208</span>F5DACFB<span class="number">752C8067</span>FD<span class="number">68D4F155449</span>E<span class="number">8E795A15</span>BE1C3AE3005BC8FA85E8EBCA35AEF<span class="number">67E5F30C26</span>BE0FB<span class="number">2626881F27</span>55E1DB<span class="number">081A02C7</span>BB78FAB79AFD<span class="number">445547A8</span><span class="keyword">A</span><span class="number">60A415C106</span>B<span class="number">9930528C27</span>1CAABCF131FC<span class="number">52112D49</span>FC<span class="number">2F9D9D20</span>A0BCF<span class="number">85745B30</span>CCFCC16CF7A32E14FA<span class="number">9B31391779</span><span class="number">1974B39D80</span><span class="number">1C60D210096</span>FBF<span class="number">7B7E006</span>C<span class="number">133999662C94</span><span class="number">595E582117</span><span class="number">6E75C29620</span>D06F09FB45C580ABCDA05C99B00DB<span class="number">72C6857C01</span>1E39AAE<span class="number">5D285B38</span><span class="number">0025A3664</span>D<span class="number">7C0F59600</span>C<span class="number">1B9006F1</span>BCEC7FE9E2F1FB<span class="number">7B4A902</span>CCE<span class="number">70C281733</span>F0312A6BED<span class="number">9402832</span>EC<span class="number">5947867D3</span>F<span class="number">2740D6831</span>CDD<span class="number">5C619A98</span>E327BD19FDBED00F54FCBD<span class="number">7817107E88</span>C2ABAD<span class="number">210A286</span>ED8C79CD97A45BC<span class="number">8A2A395</span>A0A3072BD<span class="number">38403E357</span>D<span class="number">474C26E2</span>E<span class="number">94B884711</span>CD37CC<span class="number">3B869F40</span>7B0DE<span class="number">77500D850</span>A4674BC67EF<span class="number">8C74523D67</span>90CC8C9FD<span class="number">1D541079</span>E<span class="number">0006946</span>EB71F1DC<span class="number">0E87216E94</span>AF5B1B0FE7CDD<span class="number">849D06F12</span>FAA8960C56BBDD2062BFB7486CC567780FDC35FA45B3CB<span class="number">15047D26</span>DF<span class="number">99413E30628</span>2FC4B8BA<span class="number">623E2D37</span>3B2BA05FD<span class="number">474C26E2</span>E<span class="number">94B884711</span>CD37CC<span class="number">3B869F40</span>7B0DE<span class="number">77500D850</span>A4674BC67EF<span class="number">8C7452D5</span>B<span class="number">8021062C35</span>544178EF<span class="number">469C99E44</span><span class="number">7E92F98C51</span>46DD1BA<span class="number">934A2C4</span>D1D4042FF554DD<span class="number">76A06F427</span>FF7203CCE40DC<span class="number">38B408574</span>EAC5C26B52EFF880D57EB<span class="number">289C14F0</span>F48B1CEA<span class="number">4B344F09</span>3A8019EA4B5AAE1D71DFFD03DE5FD9DCF408AA86FE<span class="number">0B3D39A7</span>AD<span class="number">77626C50549</span>6BF<span class="number">6F85F8F227</span>0FDBDC<span class="number">4C3B84367</span><span class="number">60A828A42</span><span class="number">9F8296D4</span>ACEEBEFDAC4B47DCC<span class="number">728B0A4</span>F2ED1AA<span class="number">231D88A76C7</span>EB<span class="number">42C4B10B40</span>F<span class="number">48495C8</span>DE787079ACC483DD56E4DD<span class="number">44D4408C97</span><span class="number">6E2A67865</span>5BE<span class="number">449B6A4</span>C17CB<span class="number">9B4F51236</span>FE98D4E05CEAF<span class="number">7C6F85E2</span>DA<span class="number">56A36593</span>FC28E89FAAF<span class="number">8D5D9F4</span>C2F9AE<span class="number">469199627047</span>FE<span class="number">32A10E387</span>AA28EDE<span class="number">469B6731</span>DCF<span class="number">1A136033E40</span>F0CDA<span class="number">1A2493B0</span>BF376CF88FDAF<span class="number">5F489855</span>F68E2D4EA860AF180D2CBE<span class="number">53184B1870</span>EEE<span class="number">9D61A97A88</span><span class="number">418D845</span>EA11CB9393DD<span class="number">60F098E48</span>689EF3BA<span class="number">1F0E8324</span>B099CBEC<span class="number">159817F9381</span>EB1D34EF5F242FFDD<span class="number">2D77429B4</span>F3EF61D48FAAC<span class="number">1709739E75</span>DFB<span class="number">3E55C1203</span>AE720BA<span class="number">0A32C16A9</span>C<span class="number">96A85116791</span>FD<span class="number">91B216951773</span>FC4FDFA<span class="number">44E7579C1</span>F2C30A2DC0AC3DF16ECFD8AF79ADF977AB5AC53BC2923DECD5E3EF<span class="number">8474A442</span>B13D5FB96ACBBF1794E5EF<span class="number">98C619788</span>D1F5BCEB<span class="number">497B0F2</span>D<span class="number">32422A83372</span>7BEBB465B3EBFD<span class="number">04E47246</span>DBD99AD90658AD<span class="number">018D0D6</span>EED<span class="number">7F82B3008</span>F4B63C1FE4BF<span class="number">2A6B28944</span>6DEE72601EA35025CE6F5D8FC<span class="number">4184F695</span>F4135FCD<span class="number">929C389</span>C<span class="number">42816B4361</span>C1B1BD8CFF<span class="number">3B80003E72</span>830CA<span class="number">4E373907</span>C3193CCFF1DAE934AC<span class="number">27E351B251</span>35A6B45BFB5BE<span class="number">703198B662</span>D34CF82A234CF<span class="number">8800A441</span>C403CD<span class="number">9314135</span>EFFD<span class="number">7B2C828</span>B1E0CB<span class="number">9A458095</span>C172B38DAF11EA<span class="number">203F2704B33</span><span class="number">74D943D80</span>C1EB0509CC761E6ADA<span class="number">75913B2</span>BBC392ABC<span class="number">750503D52</span><span class="number">2F15C636</span>A994FBBE36AC<span class="number">355154F7333</span>C<span class="number">99267C6</span>CECE<span class="number">5950F2477</span>AA309AF<span class="number">11E8D7A57</span>C<span class="number">058934B35</span>FB6EAE<span class="number">90D6C693</span>F<span class="number">6F053E95</span><span class="number">3D43C07A08</span>F0CB51DE16A</span></span><br></pre></td></tr></table></figure>
<p>解密后结果：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"idfa"</span> : <span class="string">"13D66220-D133-4145-8D60-4A1CC99C0178"</span>,</span><br><span class="line">  <span class="string">"lon"</span> : <span class="string">""</span>,</span><br><span class="line">  <span class="string">"sim"</span> : <span class="string">"中国电信"</span>,</span><br><span class="line">  <span class="string">"type"</span> : <span class="string">"iPhone OS"</span>,</span><br><span class="line">  <span class="string">"imei"</span> : <span class="string">"321a804136f53aef66a52296f4773ba4f3c1abf0"</span>,</span><br><span class="line">  <span class="string">"os"</span> : <span class="string">"8.1"</span>,</span><br><span class="line">  <span class="string">"lat"</span> : <span class="string">""</span>,</span><br><span class="line">  <span class="string">"pname"</span> : <span class="string">"com.thinkland.ncc"</span>,</span><br><span class="line">  <span class="string">"list"</span> : [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"listNickname"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"nickname"</span> : <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"listPhone"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"phoneType"</span> : <span class="string">"iOS"</span>,</span><br><span class="line">          <span class="string">"phoneNumber"</span> : <span class="string">" (0) 21110"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"phoneType"</span> : <span class="string">"iOS"</span>,</span><br><span class="line">          <span class="string">"phoneNumber"</span> : <span class="string">" (0) 10110"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"phoneType"</span> : <span class="string">"iOS"</span>,</span><br><span class="line">          <span class="string">"phoneNumber"</span> : <span class="string">" (0) 1012315"</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"listOrganizations"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"company"</span> : <span class="string">"Spyware Technologies LLC"</span>,</span><br><span class="line">          <span class="string">"title"</span> : <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"disPlayName"</span> : <span class="string">"DoeJoe"</span>,</span><br><span class="line">      <span class="string">"listNoteinfo"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"noteinfo"</span> : <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"contactId"</span> : <span class="string">"1"</span>,</span><br><span class="line">      <span class="string">"listAddress"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"street"</span> : <span class="string">""</span>,</span><br><span class="line">          <span class="string">"formatAddress"</span> : <span class="string">"&#123;\n    City = Suzhou;\n    Country = China;\n    CountryCode = cn;\n    State = Jiangsu;\n    Street = \"Each St\\nChangwan\";\n    ZIP = 215000;\n&#125;"</span>,</span><br><span class="line">          <span class="string">"city"</span> : <span class="string">""</span>,</span><br><span class="line">          <span class="string">"postCode"</span> : <span class="string">""</span>,</span><br><span class="line">          <span class="string">"region"</span> : <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"listEmail"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"emailValue"</span> : <span class="string">"spyware@spyware.tld"</span>,</span><br><span class="line">          <span class="string">"emailType"</span> : <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"model"</span> : <span class="string">"iPhone"</span>,</span><br><span class="line">  <span class="string">"openid"</span> : <span class="string">"JHaf65a935c448fe7772d219d44a49e6aa"</span>,</span><br><span class="line">  <span class="string">"network"</span> : <span class="string">"CTRadioAccessTechnologyCDMAEVDORevA"</span>,</span><br><span class="line">  <span class="string">"openId"</span> : <span class="string">"JHaf65a935c448fe7772d219d44a49e6aa"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="受影响列表">受影响列表</h2><p>为了方便检索，我将会上传通讯录的 SDK / App 列表整理在这里。</p>
<p>注：</p>
<ol>
<li>SDK 的下载地址和更新时间为 iOS 版本里库文件的更新时间；</li>
<li>App 的更新时间为 App Store 里显示的时间。</li>
</ol>
<table>
<thead>
<tr>
<th>名称</th>
<th>版本号</th>
<th>更新时间</th>
<th>是否上传</th>
<th>下载地址</th>
</tr>
</thead>
<tbody>
<tr>
<td>聚合数据 SDK</td>
<td>1.0.1</td>
<td>2014-09-23</td>
<td>是</td>
<td><a href="http://img.juhe.cn/sdk/JuheData_iOSSDK_v1.0.1_All.zip" target="_blank" rel="external"><del>官方下载</del></a> <a href="https://mega.co.nz/#!pE9iWLxD!bdAA9EA9R6finccP701kQPBjCdkqMtKT2-agKeMb0LA" target="_blank" rel="external">MEGA</a></td>
</tr>
<tr>
<td>短信验证码 SDK</td>
<td>1.0.1</td>
<td>2014-11-01</td>
<td>是</td>
<td><a href="http://img.juhe.cn/sdkdocs/JUHE_iOS_SMSSDK_V1.0.1.zip" target="_blank" rel="external">官方下载</a> <a href="https://mega.co.nz/#!IAFjiY5C!og8duR22uGxcr8-x45_RP-KSfjUjMJ-96SMEfwHBcHg" target="_blank" rel="external">MEGA</a></td>
</tr>
<tr>
<td>条码数据 SDK</td>
<td>1.0.2</td>
<td>2014-09-23</td>
<td>是</td>
<td><a href="http://img.juhe.cn/sdk/Barcode_iOSSDK_v1.2.zip" target="_blank" rel="external">官方下载</a> <a href="https://mega.co.nz/#!hNkhUJhB!g9_8MmGXPfstaEvtzLIjFPnUTh_nNTUfZnWtqJQw_FA" target="_blank" rel="external">MEGA</a></td>
</tr>
<tr>
<td>比价数据 SDK</td>
<td>1.0.0</td>
<td>2014-03-10</td>
<td>否</td>
<td><a href="http://ds.juhe.cn/data/sdk/ios/bijia.sdk.v1.0.zip" target="_blank" rel="external">官方下载</a> <a href="https://mega.co.nz/#!ZQk1WBpZ!aFqEbArQPO_6WnIw9VQoAo99hb_OeOX4InJw_RfO69w" target="_blank" rel="external">MEGA</a></td>
</tr>
<tr>
<td>电商数据 SDK</td>
<td>1.0.0</td>
<td>2014-03-10</td>
<td>否</td>
<td><a href="http://ds.juhe.cn/data/sdk/ios/dianshang.sdk.v1.0.zip" target="_blank" rel="external">官方下载</a> <a href="https://mega.co.nz/#!tFkRlL5D!XeHy3aayLF8hTORbYNJNM15kOUeuSc1XCSQLaxW3Zao" target="_blank" rel="external">MEGA</a></td>
</tr>
<tr>
<td>你查查</td>
<td>1.6.4</td>
<td>2014-10-09</td>
<td>是</td>
<td><a href="https://itunes.apple.com/cn/app/ni-cha-cha-tiao-ma-sao-miao/id789568401?l=en&amp;mt=8" target="_blank" rel="external">App Store</a></td>
</tr>
<tr>
<td>聚合基站</td>
<td>2.3.4</td>
<td>2014-10-17</td>
<td>是</td>
<td><a href="https://itunes.apple.com/cn/app/ju-he-ji-zhan-cha-xun/id596612170?l=en&amp;mt=8" target="_blank" rel="external">App Store</a></td>
</tr>
</tbody>
</table>
<p>另外，聚合数据首页上链接过去的 <a href="http://www.jikexueyuan.com/course/324.html" target="_blank" rel="external">聚合数据 iOS 项目开发实战：条码查询器</a> 内课程资料里的 Demo 亦包含会上传通讯录的代码。这里限于版权原因就不提供下载了。</p>
<h2 id="结尾">结尾</h2><p>最后，请聚合数据尽快删除存储在服务器上的用户隐私数据并公开承认且道歉。</p>
<p>以及，贵司不如帮员工报个新东方什么的英语培训班？如果新东方救不了的话，不如试试找老罗？代码里各种 typo 看的我都快吐了 :-(</p>

      
    </div>

    <div class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/workaround-of-docker-cap-set-file/">Docker cpio: 'cap_set_file' 的临时解决方法</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/build-manageable-mirror-using-zfs/">使用 ZFS 构建易管理的镜像服务器</a>
            
          </div>
        </div>
      

      
      
    </div>
  </div>



    

    
      <div class="comments" id="comments">
        
          <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          </div>
        
      </div>
    
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            本站概覽
          </li>
        </ul>
      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="https://en.gravatar.com/userimage/15516490/ccf4829ea2de640a573974d1e17698ee.png?size=360" alt="Aveline Swan" />
          <p class="site-author-name">Aveline Swan</p>
        </div>
        <p class="site-description motion-element"></p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">33</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分類</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">23</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </div>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml">
              <i class="menu-item-icon icon-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="https://github.com/ym" target="_blank">GitHub</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="https://twitter.com/Aveline_Swan" target="_blank">Twitter</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="http://www.douban.com/people/avelineswan/" target="_blank">DouBan</a>
            </span>
            
          
        </div>

        
        

      </div>

      
        <div class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#起因"><span class="nav-number">1.</span> <span class="nav-text">起因</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分析"><span class="nav-number">2.</span> <span class="nav-text">分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#聚合数据_SDK_(iOS_SDK_v1-0-2)"><span class="nav-number">2.1.</span> <span class="nav-text">聚合数据 SDK (iOS SDK v1.0.2)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#短信验证码_SDK_(iOS_SDK_v1-0-1)"><span class="nav-number">2.2.</span> <span class="nav-text">短信验证码 SDK (iOS SDK v1.0.1)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#条码数据_SDK_(iOS_SDK_v1-0-2)"><span class="nav-number">2.3.</span> <span class="nav-text">条码数据 SDK (iOS SDK v1.0.2)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#比价数据_SDK_(iOS_SDK_v1-0-0)"><span class="nav-number">2.4.</span> <span class="nav-text">比价数据 SDK (iOS SDK v1.0.0)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#电商数据_SDK_(iOS_SDK_v1-0-0)"><span class="nav-number">2.5.</span> <span class="nav-text">电商数据 SDK (iOS SDK v1.0.0)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#聚合基站_(2-3-4)"><span class="nav-number">2.6.</span> <span class="nav-text">聚合基站 (2.3.4)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#你查查_(1-6-4)"><span class="nav-number">2.7.</span> <span class="nav-text">你查查 (1.6.4)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#受影响列表"><span class="nav-number">3.</span> <span class="nav-text">受影响列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#结尾"><span class="nav-number">4.</span> <span class="nav-text">结尾</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </div>
      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp;  2005 - 
  2016
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">Aveline Swan</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.3"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.3"></script>
  

  <script type="text/javascript" src="/js/motion_fallback.js?v=0.4.3" id="motion.fallback"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.3" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var $sidebarInner = $('.sidebar-inner');
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.didShow', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;
          var self = this;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      $(indicator).velocity('stop').velocity({
        opacity: action === 'show' ? 0.4 : 0
      }, { duration: 100 });
    }

  });
</script>





  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
    });
  </script>

  

  
  
  

  

    
      
    

    <script type="text/javascript">
      var disqus_shortname = 'av2b';
      var disqus_identifier = 'analysis-of-juhe-data-who-steal-user-contacts-book/';
      var disqus_title = '关于聚合数据窃取用户通讯录的完整分析';
      var disqus_url = 'https://blog.swan.im/analysis-of-juhe-data-who-steal-user-contacts-book/';

      (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }());
    </script>
  




  
  
  <script type="text/javascript" src="/js/analytics_google-analytics.js?v=0.4.3"></script>


</body>
</html>
